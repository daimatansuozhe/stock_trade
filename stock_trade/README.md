# Stock Trade: 浙江工商大学数学建模竞赛代码库

## 项目简介
本项目是针对浙江工商大学数学建模竞赛开发的股票配对交易策略实现代码。代码库围绕股票市场中的配对交易策略展开，包含数据处理、策略回测、结果分析等模块，旨在通过量化分析方法挖掘股票对之间的套利机会。

## 核心功能
- 股票数据预处理与筛选（基于日均成交额、波动率等指标）
- 配对交易策略实现（基于Z得分、价差分析）
- 策略回测系统（支持自定义时间范围、参数调整）
- 交易结果可视化（组合价值曲线、Z得分曲线等）
- 行业分类分析（针对不同行业股票对进行策略测试）

## 代码结构stock_trade/
├── fig/                 # 结果文件目录
│   └── results/         # 各行业回测结果
├── fig_py/              # 核心Python脚本
│   ├── 日均成交额.py       # 股票筛选与成交额分析
│   ├── z-score&value.py   # Z得分计算与组合价值分析
│   ├── stock_price&buy_sale.py # 股价分析与交易逻辑
│   └── bad_results1/     # 测试结果文件夹
├── utility/             # 工具函数
│   ├── pair_trading.py   # 配对交易相关工具
│   ├── find_timemax.py   # 时间处理工具
│   └── to_utf8_csv.py    # CSV编码转换工具
└── raw_data_zz500成分股日数据/ # 股票原始数据(未包含)
## 关键模块说明
1. **数据筛选模块**（日均成交额.py）
   - 基于日均成交额和波动率筛选符合条件的股票
   - 按行业进行汇总统计，生成筛选结果

2. **策略核心模块**（z-score&value.py）
   - 实现Z得分计算与配对交易策略回测
   - 支持命令行参数配置（开始日期、结束日期、输出目录）
   - 生成组合价值与Z得分可视化图表

3. **交易逻辑模块**（stock_price&buy_sale.py）
   - 定义`PairTradingStrategy`类，封装配对交易核心逻辑
   - 实现价差半衰期计算、仓位管理、止盈止损等功能
   - 提供策略绩效评估指标（总收益率、年化收益率、夏普比率等）

## 使用方法
1. 准备股票数据，放置于`raw_data_zz500成分股日数据`目录
2. 运行数据筛选脚本：`python 日均成交额.py`
3. 执行策略回测：`python z-score&value.py --start_date 2024-01-01 --end_date 2025-04-30`
4. 查看输出结果（CSV文件与可视化图表）

## 结果说明
回测结果包含以下关键信息：
- 开仓/平仓记录（股票对、数量、时间、Z得分）
- 组合价值变化曲线
- 策略绩效指标（收益率、夏普比率、最大回撤等）

不同行业的测试结果分别存储于`fig/results`目录下的对应文件夹中。

## 注意事项
- 本代码仅作为数学建模竞赛研究使用，不构成任何投资建议
- 股票数据需自行准备，格式需符合脚本要求
- 可通过调整策略参数（Z得分阈值、止盈止损比例等）优化策略表现

## 参考文档
竞赛原文PDF：[请补充原文PDF地址]
